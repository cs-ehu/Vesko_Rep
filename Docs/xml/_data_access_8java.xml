<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.15">
  <compounddef id="_data_access_8java" kind="file" language="Java">
    <compoundname>DataAccess.java</compoundname>
    <innerclass refid="classdata_access_1_1_data_access" prot="public">dataAccess::DataAccess</innerclass>
    <innernamespace refid="namespacedata_access">dataAccess</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacedata_access" refkind="compound"><highlight class="keyword">package<sp/></highlight><highlight class="normal">dataAccess;</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>java.awt.Image;</highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>java.util.Collection;</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>java.util.Date;</highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>java.util.HashMap;</highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>java.util.Iterator;</highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>java.util.List;</highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>java.util.ListIterator;</highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>java.util.Map;</highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>java.util.Vector;</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>javax.jws.WebMethod;</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>javax.persistence.EntityManager;</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>javax.persistence.EntityManagerFactory;</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>javax.persistence.Persistence;</highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>javax.persistence.Query;</highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>javax.persistence.TypedQuery;</highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/><ref refid="namespaceconfiguration" kindref="compound">configuration</ref>.<ref refid="classconfiguration_1_1_config_x_m_l" kindref="compound">ConfigXML</ref>;</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/><ref refid="namespacedomain" kindref="compound">domain</ref>.<ref refid="classdomain_1_1_client" kindref="compound">Client</ref>;</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/><ref refid="namespacedomain" kindref="compound">domain</ref>.<ref refid="classdomain_1_1_feed_back" kindref="compound">FeedBack</ref>;</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="comment">//import<sp/>domain.Booking;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/><ref refid="namespacedomain" kindref="compound">domain</ref>.<ref refid="classdomain_1_1_offer" kindref="compound">Offer</ref>;</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/><ref refid="namespacedomain" kindref="compound">domain</ref>.<ref refid="classdomain_1_1_owner" kindref="compound">Owner</ref>;</highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/><ref refid="namespacedomain" kindref="compound">domain</ref>.<ref refid="classdomain_1_1_reserva" kindref="compound">Reserva</ref>;</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/><ref refid="namespacedomain" kindref="compound">domain</ref>.<ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref>;</highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/><ref refid="namespaceexceptions" kindref="compound">exceptions</ref>.<ref refid="classexceptions_1_1_overlapping_client_exists" kindref="compound">OverlappingClientExists</ref>;</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/><ref refid="namespaceexceptions" kindref="compound">exceptions</ref>.<ref refid="classexceptions_1_1_overlapping_offer_exists" kindref="compound">OverlappingOfferExists</ref>;</highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/><ref refid="namespaceexceptions" kindref="compound">exceptions</ref>.<ref refid="classexceptions_1_1_overlapping_owner_exist" kindref="compound">OverlappingOwnerExist</ref>;</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32" refid="classdata_access_1_1_data_access" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classdata_access_1_1_data_access" kindref="compound">DataAccess</ref><sp/>{</highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34" refid="classdata_access_1_1_data_access_1aba38e7b60b8d2dc1d112ac7b5e5e4693" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>String<sp/><ref refid="classdata_access_1_1_data_access_1aba38e7b60b8d2dc1d112ac7b5e5e4693" kindref="member">fileName</ref>;</highlight></codeline>
<codeline lineno="35" refid="classdata_access_1_1_data_access_1a158d2718ef5a80f4f296b14937cc1775" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>EntityManagerFactory<sp/><ref refid="classdata_access_1_1_data_access_1a158d2718ef5a80f4f296b14937cc1775" kindref="member">emf</ref>;</highlight></codeline>
<codeline lineno="36" refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>EntityManager<sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>;</highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight></codeline>
<codeline lineno="38" refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="classconfiguration_1_1_config_x_m_l" kindref="compound">ConfigXML</ref><sp/><ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>;</highlight></codeline>
<codeline lineno="39" refid="classdata_access_1_1_data_access_1a3a2da087d6452771264c177c02ecab4a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/><ref refid="classdata_access_1_1_data_access_1a3a2da087d6452771264c177c02ecab4a" kindref="member">debuger</ref><sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="40"><highlight class="normal"></highlight></codeline>
<codeline lineno="41" refid="classdata_access_1_1_data_access_1a4f66a4eefd8656ede2ffc4403af77346" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="classdata_access_1_1_data_access_1a4f66a4eefd8656ede2ffc4403af77346" kindref="member">DataAccess</ref>()<sp/>{</highlight></codeline>
<codeline lineno="42"><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref><sp/>=<sp/><ref refid="classconfiguration_1_1_config_x_m_l" kindref="compound">ConfigXML</ref>.<ref refid="classconfiguration_1_1_config_x_m_l_1a74c5e0c09c0139554ede8d786cb808ff" kindref="member">getInstance</ref>();</highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="46"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>System.out.println(&quot;Creating<sp/>objectdb<sp/>instance<sp/>=&gt;<sp/>isDatabaseLocal:<sp/>&quot;</highlight></codeline>
<codeline lineno="47"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>+<sp/>c.isDatabaseLocal()<sp/>+<sp/>&quot;<sp/>getDatabBaseOpenMode:<sp/>&quot;<sp/>+</highlight></codeline>
<codeline lineno="48"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*<sp/>c.getDataBaseOpenMode());</highlight></codeline>
<codeline lineno="49"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>String<sp/>filename<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>.<ref refid="classconfiguration_1_1_config_x_m_l_1a403cc4242d937a87dfea24caabaf535d" kindref="member">getDbFilename</ref>();</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>.<ref refid="classconfiguration_1_1_config_x_m_l_1a2ee9afbde36aa3f5c0d0158a8b5449fb" kindref="member">isDatabaseLocal</ref>())<sp/>{</highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a158d2718ef5a80f4f296b14937cc1775" kindref="member">emf</ref><sp/>=<sp/>Persistence.createEntityManagerFactory(<ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>.<ref refid="classconfiguration_1_1_config_x_m_l_1a403cc4242d937a87dfea24caabaf535d" kindref="member">getDbFilename</ref>());</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref><sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a158d2718ef5a80f4f296b14937cc1775" kindref="member">emf</ref>.createEntityManager();</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Map&lt;String,<sp/>String&gt;<sp/>properties<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>HashMap&lt;String,<sp/>String&gt;();</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>properties.put(</highlight><highlight class="stringliteral">&quot;javax.persistence.jdbc.user&quot;</highlight><highlight class="normal">,<sp/><ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>.<ref refid="classconfiguration_1_1_config_x_m_l_1a98e53bd841ca5f520af914f96ff2afef" kindref="member">getUser</ref>());</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>properties.put(</highlight><highlight class="stringliteral">&quot;javax.persistence.jdbc.password&quot;</highlight><highlight class="normal">,<sp/><ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>.<ref refid="classconfiguration_1_1_config_x_m_l_1a70146fb5f8cda65220413959691e3616" kindref="member">getPassword</ref>());</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a158d2718ef5a80f4f296b14937cc1775" kindref="member">emf</ref><sp/>=<sp/>Persistence.createEntityManagerFactory(</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;objectdb://&quot;</highlight><highlight class="normal"><sp/>+<sp/><ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>.<ref refid="classconfiguration_1_1_config_x_m_l_1a622fdcb9a55b406b6bc2fa63509dae72" kindref="member">getDatabaseNode</ref>()<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;:&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/><ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>.<ref refid="classconfiguration_1_1_config_x_m_l_1abf4649caafdcfb0b506af7402f09728c" kindref="member">getDatabasePort</ref>()<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;/&quot;</highlight><highlight class="normal"><sp/>+<sp/><ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>.<ref refid="classconfiguration_1_1_config_x_m_l_1a403cc4242d937a87dfea24caabaf535d" kindref="member">getDbFilename</ref>(),</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>properties);</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref><sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a158d2718ef5a80f4f296b14937cc1775" kindref="member">emf</ref>.createEntityManager();</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="78" refid="classdata_access_1_1_data_access_1a660f0677b4ead89efe35c8f8f13c48ec" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="classdomain_1_1_client" kindref="compound">Client</ref><sp/><ref refid="classdata_access_1_1_data_access_1a660f0677b4ead89efe35c8f8f13c48ec" kindref="member">createClient</ref>(String<sp/>username,<sp/>String<sp/>password,</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>String<sp/>telegramId,<sp/>String<sp/>cuentaBancaria,<sp/>String<sp/>email)</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throws</highlight><highlight class="normal"><sp/><ref refid="classexceptions_1_1_overlapping_client_exists" kindref="compound">OverlappingClientExists</ref><sp/>{</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_client" kindref="compound">Client</ref><sp/>cliente<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classdomain_1_1_client" kindref="compound">Client</ref>(username,<sp/>password,<sp/>telegramId,</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cuentaBancaria,<sp/>email);</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="classdata_access_1_1_data_access_1a0023d35ffec2c84262c6dad259f812ae" kindref="member">existClient</ref>(username))<sp/>{</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().begin();</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.persist(cliente);</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().commit();</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classexceptions_1_1_overlapping_client_exists" kindref="compound">OverlappingClientExists</ref>();</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classdata_access_1_1_data_access_1a3a2da087d6452771264c177c02ecab4a" kindref="member">debuger</ref>)<sp/>{</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>System.out.println(</highlight><highlight class="stringliteral">&quot;In<sp/>createClient:<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>cliente.<ref refid="classdomain_1_1_client_1a5fc558240fa2d8ee6a87c41d373069fc" kindref="member">toString</ref>());</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>cliente;</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="105" refid="classdata_access_1_1_data_access_1a786f6a4bbd1f36ee68d8cebfd1ebc626" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="classdomain_1_1_owner" kindref="compound">Owner</ref><sp/><ref refid="classdata_access_1_1_data_access_1a786f6a4bbd1f36ee68d8cebfd1ebc626" kindref="member">createOwner</ref>(String<sp/>username,<sp/>String<sp/>password,</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>String<sp/>telegramId,<sp/>String<sp/>cuentaBancaria,<sp/>String<sp/>email)</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throws</highlight><highlight class="normal"><sp/><ref refid="classexceptions_1_1_overlapping_owner_exist" kindref="compound">OverlappingOwnerExist</ref><sp/>{</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_owner" kindref="compound">Owner</ref><sp/>dueno<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classdomain_1_1_owner" kindref="compound">Owner</ref>(username,<sp/>password,<sp/>telegramId,<sp/>cuentaBancaria,</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>email);</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!<ref refid="classdata_access_1_1_data_access_1a50b55de13fbd4c9848f7c3ee8a57db93" kindref="member">existOwner</ref>(username))<sp/>{</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().begin();</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.persist(dueno);</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().commit();</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classdata_access_1_1_data_access_1a3a2da087d6452771264c177c02ecab4a" kindref="member">debuger</ref>)<sp/>{</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>System.out.println(</highlight><highlight class="stringliteral">&quot;In<sp/>createOwner:<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>dueno.<ref refid="classdomain_1_1_owner_1ae9a6d647ea64719befbaf351f74a074c" kindref="member">toString</ref>());</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">throw</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classexceptions_1_1_overlapping_owner_exist" kindref="compound">OverlappingOwnerExist</ref>();</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>dueno;</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="122" refid="classdata_access_1_1_data_access_1af251e5b2044f3db7d7e9e4ca687808f2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="classdomain_1_1_reserva" kindref="compound">Reserva</ref><sp/><ref refid="classdata_access_1_1_data_access_1af251e5b2044f3db7d7e9e4ca687808f2" kindref="member">createReserva</ref>(<ref refid="classdomain_1_1_offer" kindref="compound">Offer</ref><sp/>offer,<sp/><ref refid="classdomain_1_1_client" kindref="compound">Client</ref><sp/>cliente,<sp/>Date<sp/>bookDate)<sp/>{</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_reserva" kindref="compound">Reserva</ref><sp/>reserva<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classdomain_1_1_reserva" kindref="compound">Reserva</ref>(offer,<sp/>cliente,<sp/>bookDate);</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_client" kindref="compound">Client</ref><sp/><ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref><sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1af7f43a6feb37bdb96c5d80a9e6344f8f" kindref="member">getClientByUsername</ref>(cliente.<ref refid="classdomain_1_1_client_1aa3cb01ad1be8a3ad758ef94bbf60c69c" kindref="member">getUserName</ref>());</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_offer" kindref="compound">Offer</ref><sp/>o<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a542a2ce3e970075b63c22b8cefac42ee" kindref="member">getOfferByNum</ref>(offer.<ref refid="classdomain_1_1_offer_1ab9e27c474ec6819a27eac1847d876c3a" kindref="member">getOfferNumber</ref>());</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().begin();</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>.addReserva(reserva);</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>o.setReserva(reserva);</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.persist(reserva);</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.persist(o);</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.persist(<ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>);</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().commit();</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>reserva;</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="148" refid="classdata_access_1_1_data_access_1a285dc85c28f00942caf20622fc619541" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref><sp/><ref refid="classdata_access_1_1_data_access_1a285dc85c28f00942caf20622fc619541" kindref="member">createRuralHouse</ref>(<ref refid="classdomain_1_1_owner" kindref="compound">Owner</ref><sp/>o,<sp/>String<sp/>city,</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>String<sp/>description,<sp/>String<sp/>address,<sp/>String<sp/>roomsNumber)<sp/>{</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_owner" kindref="compound">Owner</ref><sp/>owner<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a61836150ad3401ad7e326f263993c7bc" kindref="member">getOwnerByUsername</ref>(o.<ref refid="classdomain_1_1_owner_1a912ac7ca2dffa65d6b4c26540cc33605" kindref="member">getUserName</ref>());</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref><sp/>rh<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref>(city,<sp/>description,<sp/>address,<sp/>roomsNumber,</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>owner);</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().begin();</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>owner.<ref refid="classdomain_1_1_owner_1a01e969e9f1e86c08e90195d6cc01132d" kindref="member">addRhList</ref>(rh);</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.persist(rh);</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().commit();</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classdata_access_1_1_data_access_1a3a2da087d6452771264c177c02ecab4a" kindref="member">debuger</ref>)<sp/>{</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>System.out.println(</highlight><highlight class="stringliteral">&quot;In<sp/>createRuralHouse:<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>rh.toString());</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>System.out.println(owner.<ref refid="classdomain_1_1_owner_1ae9a6d647ea64719befbaf351f74a074c" kindref="member">toString</ref>());</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rh;</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="164" refid="classdata_access_1_1_data_access_1ac07343daf9aa06679c7b28c082950ab0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="classdomain_1_1_offer" kindref="compound">Offer</ref><sp/><ref refid="classdata_access_1_1_data_access_1ac07343daf9aa06679c7b28c082950ab0" kindref="member">createOffer</ref>(<ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref><sp/>ruralHouse,<sp/>Date<sp/>firstDay,</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Date<sp/>lastDay,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>price)<sp/>{</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>System.out.println(</highlight><highlight class="stringliteral">&quot;&gt;&gt;<sp/>DataAccess:<sp/>createOffer=&gt;<sp/>ruralHouse=<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>ruralHouse<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>firstDay=<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>firstDay<sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>lastDay=&quot;</highlight><highlight class="normal"><sp/>+<sp/>lastDay</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/></highlight><highlight class="stringliteral">&quot;<sp/>price=&quot;</highlight><highlight class="normal"><sp/>+<sp/>price);</highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref><sp/>rh<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.find(<ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref>.class,</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ruralHouse.<ref refid="classdomain_1_1_rural_house_1a849faba68dc8c0a71ed936bc509f5568" kindref="member">getHouseNumber</ref>());</highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().begin();</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_offer" kindref="compound">Offer</ref><sp/>o<sp/>=<sp/>rh.<ref refid="classdomain_1_1_rural_house_1a58e17e08a7b28a75bc1b8e3d6ac01764" kindref="member">createOffer</ref>(firstDay,<sp/>lastDay,<sp/>price);</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.persist(o);</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().commit();</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>o;</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal"><sp/>(Exception<sp/>e)<sp/>{</highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>System.out.println(</highlight><highlight class="stringliteral">&quot;Offer<sp/>not<sp/>created:<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>e.toString());</highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="185" refid="classdata_access_1_1_data_access_1ac3b7d95db57811e7a7e41c74d1d8a807" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classdata_access_1_1_data_access_1ac3b7d95db57811e7a7e41c74d1d8a807" kindref="member">addImageToRH</ref>(</highlight><highlight class="keywordtype">byte</highlight><highlight class="normal">[]<sp/>img,<sp/><ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref><sp/>rh,<sp/><ref refid="classdomain_1_1_owner" kindref="compound">Owner</ref><sp/>owner)<sp/>{</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().begin();</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref><sp/>rhouse<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a8addeaaedd74ad2fb8e285672c22d216" kindref="member">getRuralHouse</ref>(owner,<sp/>rh);</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rhouse.<ref refid="classdomain_1_1_rural_house_1a0d4787f58507c40f9474f2bec0a1250a" kindref="member">addImage</ref>(img);</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classdata_access_1_1_data_access_1a3a2da087d6452771264c177c02ecab4a" kindref="member">debuger</ref>)<sp/>{</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>System.out.println(</highlight><highlight class="stringliteral">&quot;In<sp/>addImageToRH:<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>rhouse.<ref refid="classdomain_1_1_rural_house_1a2937650ac9e726b75be724d264fa1bee" kindref="member">toString</ref>());</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.persist(rhouse);</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().commit();</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="196" refid="classdata_access_1_1_data_access_1ad2661c3e2d7e0550b837b2763456683d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="classdomain_1_1_reserva" kindref="compound">Reserva</ref><sp/><ref refid="classdata_access_1_1_data_access_1ad2661c3e2d7e0550b837b2763456683d" kindref="member">getReservaByNum</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n)<sp/>{</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_reserva" kindref="compound">Reserva</ref><sp/>r<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.find(<ref refid="classdomain_1_1_reserva" kindref="compound">Reserva</ref>.class,<sp/>n);</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>r;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="201" refid="classdata_access_1_1_data_access_1a2980497a576b4e113f96daf113620b7e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classdata_access_1_1_data_access_1a2980497a576b4e113f96daf113620b7e" kindref="member">removeReserva</ref>(<ref refid="classdomain_1_1_reserva" kindref="compound">Reserva</ref><sp/>r)<sp/>{</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_reserva" kindref="compound">Reserva</ref><sp/>reserva<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1ad2661c3e2d7e0550b837b2763456683d" kindref="member">getReservaByNum</ref>(r.<ref refid="classdomain_1_1_reserva_1ad33437c61a742b36c49e5fbf3ae7d715" kindref="member">getNumResrva</ref>());</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_client" kindref="compound">Client</ref><sp/><ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref><sp/>=<sp/>reserva.<ref refid="classdomain_1_1_reserva_1ac66925fa2326619705c487e27eef46bb" kindref="member">getCliente</ref>();</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_offer" kindref="compound">Offer</ref><sp/>o<sp/>=<sp/>reserva.<ref refid="classdomain_1_1_reserva_1ad1da3466712c5ccaf43cb6f9fe9f5045" kindref="member">getOffer</ref>();</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().begin();</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>.removeReserva(reserva);</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>o.<ref refid="classdomain_1_1_offer_1a78634284385de3610a3fdc8ef08763fa" kindref="member">removeReserva</ref>();</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.persist(<ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>);</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.persist(o);</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.remove(reserva);</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().commit();</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="214" refid="classdata_access_1_1_data_access_1a542a2ce3e970075b63c22b8cefac42ee" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="classdomain_1_1_offer" kindref="compound">Offer</ref><sp/><ref refid="classdata_access_1_1_data_access_1a542a2ce3e970075b63c22b8cefac42ee" kindref="member">getOfferByNum</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>n)<sp/>{</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_offer" kindref="compound">Offer</ref><sp/>o<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.find(<ref refid="classdomain_1_1_offer" kindref="compound">Offer</ref>.class,<sp/>n);</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>o;</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="219" refid="classdata_access_1_1_data_access_1a11f6dae8ff930c2552445dbf4d292268" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Vector&lt;byte[]&gt;<sp/><ref refid="classdata_access_1_1_data_access_1a11f6dae8ff930c2552445dbf4d292268" kindref="member">getImagesFromRH</ref>(<ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref><sp/>rh,<sp/><ref refid="classdomain_1_1_owner" kindref="compound">Owner</ref><sp/>owner)<sp/>{</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TypedQuery&lt;RuralHouse&gt;<sp/>query<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.createQuery(</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;SELECT<sp/>rh.images<sp/>FROM<sp/>RuralHouse<sp/>rh<sp/>WHERE<sp/>rh.owner=?1<sp/>AND<sp/>rh.houseNumber=?2&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref>.class);</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query.setParameter(1,<sp/>owner);</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query.setParameter(2,<sp/>rh.<ref refid="classdomain_1_1_rural_house_1a849faba68dc8c0a71ed936bc509f5568" kindref="member">getHouseNumber</ref>());</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>List&lt;RuralHouse&gt;<sp/>results<sp/>=<sp/>query.getResultList();</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classdata_access_1_1_data_access_1a3a2da087d6452771264c177c02ecab4a" kindref="member">debuger</ref>)<sp/>{</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>System.out.println(</highlight><highlight class="stringliteral">&quot;In<sp/>getImagesFromRH:<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>results.get(0).toString());</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>results.get(0).getImages();</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="234" refid="classdata_access_1_1_data_access_1a8addeaaedd74ad2fb8e285672c22d216" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref><sp/><ref refid="classdata_access_1_1_data_access_1a8addeaaedd74ad2fb8e285672c22d216" kindref="member">getRuralHouse</ref>(<ref refid="classdomain_1_1_owner" kindref="compound">Owner</ref><sp/>owner,<sp/><ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref><sp/>rh)<sp/>{</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TypedQuery&lt;RuralHouse&gt;<sp/>query<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref></highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>.createQuery(</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;SELECT<sp/>rh<sp/>FROM<sp/>RuralHouse<sp/>rh<sp/>WHERE<sp/>rh.owner=?1<sp/>AND<sp/>rh.houseNumber=?2&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref>.class);</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query.setParameter(1,<sp/>owner);</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>System.out.println(rh.<ref refid="classdomain_1_1_rural_house_1a2937650ac9e726b75be724d264fa1bee" kindref="member">toString</ref>());</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query.setParameter(2,<sp/>rh.<ref refid="classdomain_1_1_rural_house_1a849faba68dc8c0a71ed936bc509f5568" kindref="member">getHouseNumber</ref>());</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>List&lt;RuralHouse&gt;<sp/>colecction<sp/>=<sp/>query.getResultList();</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref><sp/>rhouse<sp/>=<sp/>colecction.get(0);</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classdata_access_1_1_data_access_1a3a2da087d6452771264c177c02ecab4a" kindref="member">debuger</ref>)<sp/>{</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rhouse<sp/>==<sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>System.out.println(</highlight><highlight class="stringliteral">&quot;In<sp/>getRuralHouse:<sp/>rh<sp/>=<sp/>null&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>System.out.println(</highlight><highlight class="stringliteral">&quot;In<sp/>getRuralHouse:<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>rhouse.<ref refid="classdomain_1_1_rural_house_1a2937650ac9e726b75be724d264fa1bee" kindref="member">toString</ref>());</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rhouse;</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="254" refid="classdata_access_1_1_data_access_1a13b08775ff3b4b3859a7772de6592fb0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Vector&lt;RuralHouse&gt;<sp/><ref refid="classdata_access_1_1_data_access_1a13b08775ff3b4b3859a7772de6592fb0" kindref="member">getAllRuralHouses</ref>()<sp/>{</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>System.out.println(</highlight><highlight class="stringliteral">&quot;&gt;&gt;<sp/>DataAccess:<sp/>getAllRuralHouses&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector&lt;RuralHouse&gt;<sp/>res<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector&lt;&gt;();</highlight></codeline>
<codeline lineno="257"><highlight class="normal"></highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TypedQuery&lt;RuralHouse&gt;<sp/>query<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.createQuery(</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;SELECT<sp/>c<sp/>FROM<sp/>RuralHouse<sp/>c&quot;</highlight><highlight class="normal">,<sp/><ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref>.class);</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>List&lt;RuralHouse&gt;<sp/>results<sp/>=<sp/>query.getResultList();</highlight></codeline>
<codeline lineno="261"><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Iterator&lt;RuralHouse&gt;<sp/>itr<sp/>=<sp/>results.iterator();</highlight></codeline>
<codeline lineno="263"><highlight class="normal"></highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/>(itr.hasNext())<sp/>{</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res.add(itr.next());</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="268"><highlight class="normal"></highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="271" refid="classdata_access_1_1_data_access_1ab8f58c04c48032a83b000d6de7f47d4e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Vector&lt;Offer&gt;<sp/><ref refid="classdata_access_1_1_data_access_1ab8f58c04c48032a83b000d6de7f47d4e" kindref="member">getOffers</ref>(<ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref><sp/>rh,<sp/>Date<sp/>firstDay,<sp/>Date<sp/>lastDay)<sp/>{</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>System.out.println(</highlight><highlight class="stringliteral">&quot;&gt;&gt;<sp/>DataAccess:<sp/>getOffers&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector&lt;Offer&gt;<sp/>res<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>Vector&lt;&gt;();</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref><sp/>rhn<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.find(<ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref>.class,<sp/>rh.<ref refid="classdomain_1_1_rural_house_1a849faba68dc8c0a71ed936bc509f5568" kindref="member">getHouseNumber</ref>());</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>res<sp/>=<sp/>rhn.<ref refid="classdomain_1_1_rural_house_1ae653409c7556fa8b3ccabd0c17604666" kindref="member">getOffers</ref>(firstDay,<sp/>lastDay);</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>res;</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="278"><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="286" refid="classdata_access_1_1_data_access_1af7f43a6feb37bdb96c5d80a9e6344f8f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="classdomain_1_1_client" kindref="compound">Client</ref><sp/><ref refid="classdata_access_1_1_data_access_1af7f43a6feb37bdb96c5d80a9e6344f8f" kindref="member">getClientByUsername</ref>(String<sp/>username)<sp/>{</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().begin();</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_client" kindref="compound">Client</ref><sp/>cliente<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.find(<ref refid="classdomain_1_1_client" kindref="compound">Client</ref>.class,<sp/>username);</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().commit();</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="classdata_access_1_1_data_access_1a3a2da087d6452771264c177c02ecab4a" kindref="member">debuger</ref>)<sp/>{</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cliente<sp/>==<sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>System.out.println(</highlight><highlight class="stringliteral">&quot;In<sp/>getClientByUsername:<sp/>client<sp/>=<sp/>null&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>System.out.println(</highlight><highlight class="stringliteral">&quot;In<sp/>getClientByUsername:<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>cliente.<ref refid="classdomain_1_1_client_1a5fc558240fa2d8ee6a87c41d373069fc" kindref="member">toString</ref>());</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>cliente;</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="300"><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="307" refid="classdata_access_1_1_data_access_1a61836150ad3401ad7e326f263993c7bc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="classdomain_1_1_owner" kindref="compound">Owner</ref><sp/><ref refid="classdata_access_1_1_data_access_1a61836150ad3401ad7e326f263993c7bc" kindref="member">getOwnerByUsername</ref>(String<sp/>username)<sp/>{</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().begin();</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_owner" kindref="compound">Owner</ref><sp/>propietario<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.find(<ref refid="classdomain_1_1_owner" kindref="compound">Owner</ref>.class,<sp/>username);</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(propietario<sp/>==<sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>System.out.println(</highlight><highlight class="stringliteral">&quot;In<sp/>getClientByUsername:<sp/>client<sp/>=<sp/>null&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>System.out.println(</highlight><highlight class="stringliteral">&quot;In<sp/>getClientByUsername:<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>+<sp/>propietario.<ref refid="classdomain_1_1_owner_1ae9a6d647ea64719befbaf351f74a074c" kindref="member">toString</ref>());</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().commit();</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>propietario;</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="320" refid="classdata_access_1_1_data_access_1ab6b1332b8bb17a4f65457043247d0b5e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/><ref refid="classdata_access_1_1_data_access_1ab6b1332b8bb17a4f65457043247d0b5e" kindref="member">existsOverlappingOffer</ref>(<ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref><sp/>rh,<sp/>Date<sp/>firstDay,</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Date<sp/>lastDay)<sp/></highlight><highlight class="keywordflow">throws</highlight><highlight class="normal"><sp/><ref refid="classexceptions_1_1_overlapping_offer_exists" kindref="compound">OverlappingOfferExists</ref><sp/>{</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref><sp/>rhn<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.find(<ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref>.class,<sp/>rh.<ref refid="classdomain_1_1_rural_house_1a849faba68dc8c0a71ed936bc509f5568" kindref="member">getHouseNumber</ref>());</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(rhn.<ref refid="classdomain_1_1_rural_house_1ac5596b06728d8bf377993088520fbc9e" kindref="member">overlapsWith</ref>(firstDay,<sp/>lastDay)<sp/>!=<sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">catch</highlight><highlight class="normal"><sp/>(Exception<sp/>e)<sp/>{</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>System.out.println(</highlight><highlight class="stringliteral">&quot;Error:<sp/>&quot;</highlight><highlight class="normal"><sp/>+<sp/>e.toString());</highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="333" refid="classdata_access_1_1_data_access_1a0023d35ffec2c84262c6dad259f812ae" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/><ref refid="classdata_access_1_1_data_access_1a0023d35ffec2c84262c6dad259f812ae" kindref="member">existClient</ref>(String<sp/>username)<sp/>{</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_client" kindref="compound">Client</ref><sp/>cliente<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1af7f43a6feb37bdb96c5d80a9e6344f8f" kindref="member">getClientByUsername</ref>(username);</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(cliente<sp/>==<sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="341" refid="classdata_access_1_1_data_access_1a50b55de13fbd4c9848f7c3ee8a57db93" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">boolean</highlight><highlight class="normal"><sp/><ref refid="classdata_access_1_1_data_access_1a50b55de13fbd4c9848f7c3ee8a57db93" kindref="member">existOwner</ref>(String<sp/>username)<sp/>{</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_owner" kindref="compound">Owner</ref><sp/>propietario<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a61836150ad3401ad7e326f263993c7bc" kindref="member">getOwnerByUsername</ref>(username);</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(propietario<sp/>==<sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="349" refid="classdata_access_1_1_data_access_1a652083447d2e9e5fd5b6228bc67a8ca4" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref><sp/><ref refid="classdata_access_1_1_data_access_1a652083447d2e9e5fd5b6228bc67a8ca4" kindref="member">getRuralHouseByHouseNumber</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num)<sp/>{</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref><sp/>rh<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.find(<ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref>.class,<sp/>num);</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rh;</highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="354" refid="classdata_access_1_1_data_access_1a3317cddb0e49d7e884f5f89795e20317" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classdata_access_1_1_data_access_1a3317cddb0e49d7e884f5f89795e20317" kindref="member">removeRuralHouse</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>num)<sp/>{</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref><sp/>rh<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.find(<ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref>.class,<sp/>num);</highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().begin();</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_owner" kindref="compound">Owner</ref><sp/>o<sp/>=<sp/>rh.<ref refid="classdomain_1_1_rural_house_1a1e5ccf38c0d875763f2e9120e36e412b" kindref="member">getOwner</ref>();</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>o.<ref refid="classdomain_1_1_owner_1a520de8a66f25117d263ea4c7cd5f08fa" kindref="member">removeRuralHouse</ref>(rh);</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.persist(o);</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.remove(rh);</highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().commit();</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="364" refid="classdata_access_1_1_data_access_1a58d3d443d0a2f5d74b6240248a257fd5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classdata_access_1_1_data_access_1a58d3d443d0a2f5d74b6240248a257fd5" kindref="member">close</ref>()<sp/>{</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.close();</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>System.out.println(</highlight><highlight class="stringliteral">&quot;DataBase<sp/>closed&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="369" refid="classdata_access_1_1_data_access_1ad9bd59be12508bde6bffd40397ed6caa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classdata_access_1_1_data_access_1ad9bd59be12508bde6bffd40397ed6caa" kindref="member">updateClinetValidation</ref>(<ref refid="classdomain_1_1_client" kindref="compound">Client</ref><sp/><ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>){</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_client" kindref="compound">Client</ref><sp/>c1<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.find(<ref refid="classdomain_1_1_client" kindref="compound">Client</ref>.class,<sp/><ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>.getUserName());</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().begin();</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c1.<ref refid="classdomain_1_1_client_1aef4786d9a92347815e4494c8fc0b8bd2" kindref="member">setValidated</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.persist(c1);</highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().commit();</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="377" refid="classdata_access_1_1_data_access_1a5ecedf103c63cc76c84c664e29f64f7b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classdata_access_1_1_data_access_1a5ecedf103c63cc76c84c664e29f64f7b" kindref="member">updateOwnerValidation</ref>(<ref refid="classdomain_1_1_owner" kindref="compound">Owner</ref><sp/>o){</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_owner" kindref="compound">Owner</ref><sp/>o1<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.find(<ref refid="classdomain_1_1_owner" kindref="compound">Owner</ref>.class,<sp/>o.<ref refid="classdomain_1_1_owner_1a912ac7ca2dffa65d6b4c26540cc33605" kindref="member">getUserName</ref>());</highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().begin();</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>o1.<ref refid="classdomain_1_1_owner_1a6c9df0354092ead37755351953846cbe" kindref="member">setValidated</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.persist(o1);</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().commit();</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="385" refid="classdata_access_1_1_data_access_1ab4e4324392bb85a0f2a2c209f463d1fa" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classdata_access_1_1_data_access_1ab4e4324392bb85a0f2a2c209f463d1fa" kindref="member">remove2</ref>(<ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref><sp/>rh)<sp/>{</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.detach(rh);</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="389" refid="classdata_access_1_1_data_access_1a403975bb8b87dbfa856d90ef362e7b60" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="classdomain_1_1_client" kindref="compound">Client</ref><sp/><ref refid="classdata_access_1_1_data_access_1a403975bb8b87dbfa856d90ef362e7b60" kindref="member">updateClient</ref>(<ref refid="classdomain_1_1_client" kindref="compound">Client</ref><sp/><ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>)<sp/>{</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_client" kindref="compound">Client</ref><sp/>c1<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.find(<ref refid="classdomain_1_1_client" kindref="compound">Client</ref>.class,<sp/><ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>.getUserName());</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().begin();</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c1.<ref refid="classdomain_1_1_client_1a02858d702a1b74589412777da82111ca" kindref="member">setCuentaBancaria</ref>(<ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>.getCuentaBancaria());</highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c1.<ref refid="classdomain_1_1_client_1ae13843f725fdfd5d85a3a4176b9ee8a9" kindref="member">setPassword</ref>(<ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>.<ref refid="classconfiguration_1_1_config_x_m_l_1a70146fb5f8cda65220413959691e3616" kindref="member">getPassword</ref>());</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c1.<ref refid="classdomain_1_1_client_1a525e1e3b7447d73947fa880f4c836872" kindref="member">setEmail</ref>(<ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>.getEmail());</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c1.<ref refid="classdomain_1_1_client_1aa0ab199ddacd36d8feb16cff4c01a506" kindref="member">setTelegramId</ref>(<ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>.getTelegramId());</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c1.<ref refid="classdomain_1_1_client_1acf27654cd7efbc18bb8867a58a272eef" kindref="member">setSendBookByEmail</ref>(<ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>.isSendBookByEmail());</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>c1.<ref refid="classdomain_1_1_client_1af38389540adb7dba2798d6b9912b220f" kindref="member">setSendBookByTelegram</ref>(<ref refid="classdata_access_1_1_data_access_1ad09e2bb7e62d0624ad4ed15307cb2e3e" kindref="member">c</ref>.isSendBookByTelegram());</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.persist(c1);</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().commit();</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>c1;</highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="403" refid="classdata_access_1_1_data_access_1af4bcb54cc90c7376889c7c9357d93416" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="classdomain_1_1_owner" kindref="compound">Owner</ref><sp/><ref refid="classdata_access_1_1_data_access_1af4bcb54cc90c7376889c7c9357d93416" kindref="member">updateOwner</ref>(<ref refid="classdomain_1_1_owner" kindref="compound">Owner</ref><sp/>o)<sp/>{</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_owner" kindref="compound">Owner</ref><sp/>o1<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.find(<ref refid="classdomain_1_1_owner" kindref="compound">Owner</ref>.class,<sp/>o.<ref refid="classdomain_1_1_owner_1a912ac7ca2dffa65d6b4c26540cc33605" kindref="member">getUserName</ref>());</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().begin();</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>o1.<ref refid="classdomain_1_1_owner_1a585ddd63f0f59a3198fa98689b07635e" kindref="member">setCuentaBancaria</ref>(o.<ref refid="classdomain_1_1_owner_1a6d24ccea9d518464f4c6185a33ff4c6c" kindref="member">getCuentaBancaria</ref>());</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>o1.<ref refid="classdomain_1_1_owner_1a9b6bea08f2f6af298a4e7af22fc900dc" kindref="member">setPassword</ref>(o.<ref refid="classdomain_1_1_owner_1a111db748c1d8f6451efb9486566b2df5" kindref="member">getPassword</ref>());</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>o1.<ref refid="classdomain_1_1_owner_1a021c9e357ca913eb88688a7aaa3e298d" kindref="member">setEmail</ref>(o.<ref refid="classdomain_1_1_owner_1afb08255ba011740f10d8dfe35b8168bb" kindref="member">getEmail</ref>());</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>o1.<ref refid="classdomain_1_1_owner_1ac024ef11aaf4d4875f421c75365e3c9e" kindref="member">setTelegramId</ref>(o.<ref refid="classdomain_1_1_owner_1a6aef327c7dde889395788d062a64f102" kindref="member">getTelegramId</ref>());</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>o1.<ref refid="classdomain_1_1_owner_1a4541457ba4d275025e6134f9402a6c5e" kindref="member">setSendBookByTelegram</ref>(o.<ref refid="classdomain_1_1_owner_1a89052fe74fcb66cc60d3c7ee7d3e2d75" kindref="member">isSendBookByTelegram</ref>());</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.persist(o1);</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().commit();</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>o1;</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="416" refid="classdata_access_1_1_data_access_1ab4812e588500fe2483a82a339a21e17a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/><ref refid="classdomain_1_1_feed_back" kindref="compound">FeedBack</ref><sp/><ref refid="classdata_access_1_1_data_access_1ab4812e588500fe2483a82a339a21e17a" kindref="member">createFeedBack</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i,<sp/>String<sp/>s,<sp/><ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref><sp/>rh){</highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_feed_back" kindref="compound">FeedBack</ref><sp/>fb<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classdomain_1_1_feed_back" kindref="compound">FeedBack</ref>(s,<sp/>i,<sp/>rh);</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref><sp/>rh1<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.find(<ref refid="classdomain_1_1_rural_house" kindref="compound">RuralHouse</ref>.class,<sp/>rh.<ref refid="classdomain_1_1_rural_house_1a849faba68dc8c0a71ed936bc509f5568" kindref="member">getHouseNumber</ref>());</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().begin();</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rh1.<ref refid="classdomain_1_1_rural_house_1a4660dbd4e788ded7496bc96e4e29a47b" kindref="member">addFeedBack</ref>(fb);</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.persist(rh1);</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.persist(fb);</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().commit();</highlight></codeline>
<codeline lineno="424"><highlight class="normal"></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>fb;</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/>@WebMethod</highlight></codeline>
<codeline lineno="427" refid="classdata_access_1_1_data_access_1afe99432043c4bf8bc7032858b51badbf" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="classdata_access_1_1_data_access_1afe99432043c4bf8bc7032858b51badbf" kindref="member">setRated</ref><sp/>(<ref refid="classdomain_1_1_reserva" kindref="compound">Reserva</ref><sp/>r){</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdomain_1_1_reserva" kindref="compound">Reserva</ref><sp/>r1<sp/>=<sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.find(<ref refid="classdomain_1_1_reserva" kindref="compound">Reserva</ref>.class,<sp/>r.<ref refid="classdomain_1_1_reserva_1ad33437c61a742b36c49e5fbf3ae7d715" kindref="member">getNumResrva</ref>());</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().begin();</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>r1.<ref refid="classdomain_1_1_reserva_1a60d958be9830f0e8fd70e2bac91ebc21" kindref="member">setRated</ref>(</highlight><highlight class="keyword">true</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.persist(r1);</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classdata_access_1_1_data_access_1a0920d5a9c61bdae39ef950d6e4e187e4" kindref="member">db</ref>.getTransaction().commit();</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="434"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="src/dataAccess/DataAccess.java"/>
  </compounddef>
</doxygen>
